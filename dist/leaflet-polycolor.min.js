(()=>{"use strict";function t(t,n,i){var r=n[1],o=n[0],s=r-o;return t===r&&i?t:((t-o)%s+s)%s+o}function n(t,n){if(!1===n)return t;var i=Math.pow(10,void 0===n?6:n);return Math.round(t*i)/i}Object.create;var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function r(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function o(t,n,i){this.x=i?Math.round(t):t,this.y=i?Math.round(n):n}window.requestAnimationFrame||r("RequestAnimationFrame"),window.cancelAnimationFrame||r("CancelAnimationFrame")||r("CancelRequestAnimationFrame");var s=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function e(t,n,r){return t instanceof o?t:i(t)?new o(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new o(t.x,t.y):new o(t,n,r)}function a(t,n){if(t)for(var i=n?[t,n]:t,r=0,o=i.length;r<o;r++)this.extend(i[r])}function h(t,n){return!t||t instanceof a?t:new a(t,n)}function u(t,n){if(t)for(var i=n?[t,n]:t,r=0,o=i.length;r<o;r++)this.extend(i[r])}function l(t,n){return t instanceof u?t:new u(t,n)}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(t){return this.clone()._add(e(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(e(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new o(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new o(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=s(this.x),this.y=s(this.y),this},distanceTo:function(t){var n=(t=e(t)).x-this.x,i=t.y-this.y;return Math.sqrt(n*n+i*i)},equals:function(t){return(t=e(t)).x===this.x&&t.y===this.y},contains:function(t){return t=e(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+n(this.x)+", "+n(this.y)+")"}},a.prototype={extend:function(t){var n,i;if(!t)return this;if(t instanceof o||"number"==typeof t[0]||"x"in t)n=i=e(t);else if(n=(t=h(t)).min,i=t.max,!n||!i)return this;return this.min||this.max?(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)):(this.min=n.clone(),this.max=i.clone()),this},getCenter:function(t){return e((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return e(this.min.x,this.max.y)},getTopRight:function(){return e(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var n,i;return(t="number"==typeof t[0]||t instanceof o?e(t):h(t))instanceof a?(n=t.min,i=t.max):n=i=t,n.x>=this.min.x&&i.x<=this.max.x&&n.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=h(t);var n=this.min,i=this.max,r=t.min,o=t.max,s=o.x>=n.x&&r.x<=i.x,e=o.y>=n.y&&r.y<=i.y;return s&&e},overlaps:function(t){t=h(t);var n=this.min,i=this.max,r=t.min,o=t.max,s=o.x>n.x&&r.x<i.x,e=o.y>n.y&&r.y<i.y;return s&&e},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var n=this.min,i=this.max,r=Math.abs(n.x-i.x)*t,o=Math.abs(n.y-i.y)*t;return h(e(n.x-r,n.y-o),e(i.x+r,i.y+o))},equals:function(t){return!!t&&(t=h(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},u.prototype={extend:function(t){var n,i,r=this._southWest,o=this._northEast;if(t instanceof g)n=t,i=t;else{if(!(t instanceof u))return t?this.extend(x(t)||l(t)):this;if(n=t._southWest,i=t._northEast,!n||!i)return this}return r||o?(r.lat=Math.min(n.lat,r.lat),r.lng=Math.min(n.lng,r.lng),o.lat=Math.max(i.lat,o.lat),o.lng=Math.max(i.lng,o.lng)):(this._southWest=new g(n.lat,n.lng),this._northEast=new g(i.lat,i.lng)),this},pad:function(t){var n=this._southWest,i=this._northEast,r=Math.abs(n.lat-i.lat)*t,o=Math.abs(n.lng-i.lng)*t;return new u(new g(n.lat-r,n.lng-o),new g(i.lat+r,i.lng+o))},getCenter:function(){return new g((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new g(this.getNorth(),this.getWest())},getSouthEast:function(){return new g(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof g||"lat"in t?x(t):l(t);var n,i,r=this._southWest,o=this._northEast;return t instanceof u?(n=t.getSouthWest(),i=t.getNorthEast()):n=i=t,n.lat>=r.lat&&i.lat<=o.lat&&n.lng>=r.lng&&i.lng<=o.lng},intersects:function(t){t=l(t);var n=this._southWest,i=this._northEast,r=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>=n.lat&&r.lat<=i.lat,e=o.lng>=n.lng&&r.lng<=i.lng;return s&&e},overlaps:function(t){t=l(t);var n=this._southWest,i=this._northEast,r=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>n.lat&&r.lat<i.lat,e=o.lng>n.lng&&r.lng<i.lng;return s&&e},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,n){return!!t&&(t=l(t),this._southWest.equals(t.getSouthWest(),n)&&this._northEast.equals(t.getNorthEast(),n))},isValid:function(){return!(!this._southWest||!this._northEast)}};var c,f=function(t){var n,i,r,o;for(i=1,r=arguments.length;i<r;i++)for(n in o=arguments[i])t[n]=o[n];return t}({},{latLngToPoint:function(t,n){var i=this.projection.project(t),r=this.scale(n);return this.transformation._transform(i,r)},pointToLatLng:function(t,n){var i=this.scale(n),r=this.transformation.untransform(t,i);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var n=this.projection.bounds,i=this.scale(t);return new a(this.transformation.transform(n.min,i),this.transformation.transform(n.max,i))},infinite:!1,wrapLatLng:function(n){var i=this.wrapLng?t(n.lng,this.wrapLng,!0):n.lng;return new g(this.wrapLat?t(n.lat,this.wrapLat,!0):n.lat,i,n.alt)},wrapLatLngBounds:function(t){var n=t.getCenter(),i=this.wrapLatLng(n),r=n.lat-i.lat,o=n.lng-i.lng;if(0===r&&0===o)return t;var s=t.getSouthWest(),e=t.getNorthEast();return new u(new g(s.lat-r,s.lng-o),new g(e.lat-r,e.lng-o))}},{wrapLng:[-180,180],R:6371e3,distance:function(t,n){var i=Math.PI/180,r=t.lat*i,o=n.lat*i,s=Math.sin((n.lat-t.lat)*i/2),e=Math.sin((n.lng-t.lng)*i/2),a=s*s+Math.cos(r)*Math.cos(o)*e*e,h=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*h}});function g(t,n,i){if(isNaN(t)||isNaN(n))throw new Error("Invalid LatLng object: ("+t+", "+n+")");this.lat=+t,this.lng=+n,void 0!==i&&(this.alt=+i)}function x(t,n,r){return t instanceof g?t:i(t)&&"object"!=typeof t[0]?3===t.length?new g(t[0],t[1],t[2]):2===t.length?new g(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new g(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===n?null:new g(t,n,r)}function y(t,n){if(!n||!t.length)return t.slice();var i=n*n;return t=function(t,n){for(var i=[t[0]],r=1,o=0,s=t.length;r<s;r++)e=t[r],a=t[o],h=void 0,u=void 0,h=a.x-e.x,u=a.y-e.y,h*h+u*u>n&&(i.push(t[r]),o=r);var e,a,h,u;return o<s-1&&i.push(t[s-1]),i}(t,i),t=function(t,n){var i=t.length,r=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);r[0]=r[i-1]=1,m(t,r,n,0,i-1);var o,s=[];for(o=0;o<i;o++)r[o]&&s.push(t[o]);return s}(t,i),t}function m(t,n,i,r,o){var s,e,a,h=0;for(e=r+1;e<=o-1;e++)(a=w(t[e],t[r],t[o],!0))>h&&(s=e,h=a);h>i&&(n[s]=1,m(t,n,i,r,s),m(t,n,i,s,o))}function _(t,n,i,r,o){var s,e,a,h=r?c:d(t,i),u=d(n,i);for(c=u;;){if(!(h|u))return[t,n];if(h&u)return!1;a=d(e=p(t,n,s=h||u,i,o),i),s===h?(t=e,h=a):(n=e,u=a)}}function p(t,n,i,r,s){var e,a,h=n.x-t.x,u=n.y-t.y,l=r.min,c=r.max;return 8&i?(e=t.x+h*(c.y-t.y)/u,a=c.y):4&i?(e=t.x+h*(l.y-t.y)/u,a=l.y):2&i?(e=c.x,a=t.y+u*(c.x-t.x)/h):1&i&&(e=l.x,a=t.y+u*(l.x-t.x)/h),new o(e,a,s)}function d(t,n){var i=0;return t.x<n.min.x?i|=1:t.x>n.max.x&&(i|=2),t.y<n.min.y?i|=4:t.y>n.max.y&&(i|=8),i}function w(t,n,i,r){var s,e=n.x,a=n.y,h=i.x-e,u=i.y-a,l=h*h+u*u;return l>0&&((s=((t.x-e)*h+(t.y-a)*u)/l)>1?(e=i.x,a=i.y):s>0&&(e+=h*s,a+=u*s)),h=t.x-e,u=t.y-a,r?h*h+u*u:new o(e,a)}g.prototype={equals:function(t,n){return!!t&&(t=x(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===n?1e-9:n))},toString:function(t){return"LatLng("+n(this.lat,t)+", "+n(this.lng,t)+")"},distanceTo:function(t){return f.distance(this,x(t))},wrap:function(){return f.wrapLatLng(this)},toBounds:function(t){var n=180*t/40075017,i=n/Math.cos(Math.PI/180*this.lat);return l([this.lat-n,this.lng-i],[this.lat+n,this.lng+i])},clone:function(){return new g(this.lat,this.lng,this.alt)}};const v=(t,n,i,r)=>{const o=n.options,s=t.createLinearGradient(i.x,i.y,r.x,r.y),e=i._color||o.color,a=r._color||o.color;return s.addColorStop(0,e),s.addColorStop(1,a),s};window.leafletPolycolor=function(t){t.Canvas.include({_updatePoly:function(t,n){const i=t.options,r=i.color;if(!this._drawing)return;let o,s,e,a,h;const u=t._parts,l=u.length,c=this._ctx;if(l)for(this._layers[t._leaflet_id]=t,o=0;o<l;o++){for(s=0,e=u[o].length-1;s<e;s++)a=u[o][s+1],h=u[o][s],c.beginPath(),c.moveTo(h.x,h.y),c.lineTo(a.x,a.y),i.colors?.length&&(i.color=i.useGradient?this._getStrokeGradient(c,t,h,a):a._color??i.color),this._fillStroke(c,t,h,a,s),i.color=r;n&&c.closePath()}},_getStrokeGradient:v});const n=t.Polycolor=t.Polyline.extend({_colorParts:[],options:{colors:[],useGradient:!0},_convertLatLngs(t){const n=[],r=function(t){return!i(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}(t);for(let i=0,o=t.length;i<o;i++)r?(n[i]=x(t[i]),this._bounds.extend(n[i]),this.options.colors?.[i]&&(n[i]._color=this.options.colors?.[i])):n[i]=this._convertLatLngs(t[i]);return n},_projectLatlngs(t,n,i){const r=t[0]instanceof g,o=t.length;let s,e;if(r){for(e=[],s=0;s<o;s++)e[s]=this._map.latLngToLayerPoint(t[s]),t[s]._color&&(e[s]._color=t[s]._color),i.extend(e[s]);n.push(e)}else for(s=0;s<o;s++)this._projectLatlngs(t[s],n,i)},_project(){const t=new a;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_clipPoints(){const t=this._renderer._bounds;if(this._parts=[],!this._pxBounds||!this._pxBounds.intersects(t))return;if(this.options.noClip)return void(this._parts=this._rings);const n=this._parts;let i,r,o,s,e,a,h;for(i=0,o=0,s=this._rings.length;i<s;i++)for(h=this._rings[i],r=0,e=h.length;r<e-1;r++)a=_(h[r],h[r+1],t,r,!0),a&&(n[o]=n[o]||[],n[o].push(a[0]),a[1]===h[r+1]&&r!==e-2||(n[o].push(a[1]),o++))},_simplifyPoints(){const t=this._parts,n=this.options.smoothFactor;for(let i=0,r=t.length;i<r;i++)t[i]=y(t[i],n)}});return t.polycolor=function(n,i){return new t.Polycolor(n,i)},n},console.log(window.leafletPolycolor)})();